# pgagroal 2.0.0

This is a feature release.

### Features

This is a feature release.

* New I/O framework with focus on io_uring and kqueue - increased performance compared to 1.x
* Vault implementation which can change frontend password based on configuration
* Grafana 12 dashboards
* Support for SSL for Prometheus and new metrics
* New management protocol
* Support for UTF-8 passwords
* Numerous improvements and bug-fixes

We suggest that all users upgrade.

### Commits

```
* ca49b56 jesperpedersen Correct socket handling
* 074e70d jesperpedersen Remove --name-only
* d33cb01 jesperpedersen Doc fixes
* c9a2a1f jesperpedersen Grafana 8 -> Grafana 12
* b007a39 User1995 [#689] io_uring: Improve event handler stability and cleanup
* ba82537 USER1995 [#683] event: Refactor buffer management and improve I/O backend robustness
* 2000dba Ankush [#676]update check.sh to support gcc compilation without coverage
* a4b974e jesperpedersen Update to PostgreSQL 18
* 33bab75 jesperpedersen Update URL
* 823517b jesperpedersen Update URL
* 3c8c060 jesperpedersen Update Prometheus documentation w/ metrics
* 575c25e jesperpedersen Update URLs
* 0cfbe4a Ashutosh Sharma [#461] fix ssl connection to postgres in server_passthrough
* a17d5b1 User1995 [#678] ev: Fix io_uring CQE reuse race condition in send path
* 53d2116 jesperpedersen New doxygen versions
* 3807fb0 Luca Ferrari [#674] Detect addition of duplicated users
* d3debd7 Luca Ferrari [#673] `pgagroal-clit conf get` metrics problem (#675)
* 63c05cf USER1995 [#658] pgbench initialization fails through pgagroal
* d53f0ec Shashank Singh [#635] feat: Added Grafana 12 dashboard
* b8bc801 i cook code [#662] Update authors
* ea0dad2 i do code [#662] Add PostgreSQL message logging
* 5b1b42d Luca Ferrari [#670] Document the requirements for `clang-format` version 21
* fa30ea7 Luca Ferrari Revert "[#667] ADjust formatting to clang-format"
* 6ea50e0 Luca Ferrari [#667] ADjust formatting to clang-format
* e2f1fa6 jesperpedersen Happy 2026 !
* 9b8ffd0 TutTrue Add clang-format configuration and formatting script
* 01064d2 Luca Ferrari [#665] Fix wrong references in AI guidelines
* 4b6f7d5 Sara Nabih [#659] Add pre-flight validation of the configuration file
* f4b3ef4 jesperpedersen Initial AI guidelines
* 97103ec jesperpedersen Update actions
* d64785f jesperpedersen Eisvogel 3.3.0
* 7027de0 User1995 [#656] Fix undefined hyperreference warnings in documentation build
* e33d9dc jesperpedersen Use DOCS flag
* b6f4b47 jesperpedersen Use DOCS flag
* a101494 jesperpedersen Update building information
* d94cd66 jesperpedersen Fix compiler warnings
* f82656d jesperpedersen Use Eisvogel 3.2.1
* 93ee2a2 jesperpedersen [#654] Improve pgagroal_log_mem
* 4f4f1dc jesperpedersen [#654] Improve pgagroal_log_mem
* 7b8cb97 jesperpedersen Make doxygen optional
* 74a7afd jesperpedersen uncrustify 0.81
* 7e9bbaa jesperpedersen Add newline after semicolon
* 9fd37f9 User1995 [#650] Add comprehensive table of contents and integrate missing manual chapters
* 4a6b0be jesperpedersen Use SHA256 for source package
* 9860682 jesperpedersen [#650] Combine documentation into one
* ab8bb6c bassamadnan [#637] Add scraping script
* 5fe42a0 User1995 [#647] Add X.509 certificate-based authentication support to pgagroal-vault
* eb0001e User1995 [#646] Add vault TLS validation function
* b804fd6 User1995 [#644] cmake: Make test subdirectory conditional to fix RPM build from source tarball (#644)
* e300a05 User1995 [#642] vault: fix route_status fallthrough causing 500 response and memory leak
* a53e044 User1995 [#51]Replace ASCII password validation with UTF-8 validation across CLI, vault, and master key input
* c0f6506 User1995 [#51] Support UTF8 passwords
* 762215d jesperpedersen Exclude .cache and test from source package
* b6f2d57 Bassam Adnan [#638] pgagroal_os_info metrics consistency
* 1b4e42a Haoran Zhang [#636] Add test suites for core APIs (and enable logging on test side)
* 3f6f760 USER1995 [#630] Refactor Test Suite: Migrate to New Containerized Test Infrastructure (#631)
* 5409f33 Haoran Zhang Removing from empty json should be no-op
* 7801fd1 Haoran Zhang Fix json.c imports
* c4016cd Haoran Zhang [#632] Fix multiple bugs in ART
* bfda2d4 User1995 [#626] Fix Transaction Pipeline
* 60a18f4 User1995 [#625] Cannot acquire connections when pool is prefilled (false “pool full”)
* 90db842 User1995 [#623] pgagroal-admin: Memory corruption when freeing command-line password argument
* f9243a9 User1995 [#621] Fix TLS
* ff6faf8 User1995 [#615] Allow Remote 'conf reload' Without Local Configuration File (Remove Obsolete CLI Guard).
* d3fbfb3 User1995 [#616] pgagroal-cli: Double free in TLS teardown.
* 64a4466 User1995 [#609] Add Status Endpoint (/status) to pgagroal-vault
* 7f793a7 User1995 [#613] Fix minor issues in the pgagroal.spec file to ensure clean RPM builds.
* 6771f79 User1995 [#607] Add pgagroal-vault and pgagroal_vault.conf man page generation to build system
* 8b3d176 User1995 [#605] Resolve graceful shutdown zombie state when active connections exist
* 3fc1c5f User1995 [#608] Add Daemon Mode Support (-d, --daemon) to pgagroal-vault
* 8cda954 User1995 [#602] Improve JSON structure and consistency for pgagroal-cli conf alias command
* 5c1a395 jesperpedersen [#601] Developer guide: Logging levels
* ef5fa66 USER1995 [#599] Fix inconsistent JSON output format in pgagroal-cli conf get (#600)
* 63e10cc User1995 [#595] Improve switch-to command error handling and logging
* fad939c User1995 [#597] Standardize JSON Output Format for conf ls Command
* 055f06a User1995 [#570] Prevent segfault when accessing scalar config values with dotted keys
* cc9a956 jesperpedersen uncrustify
* d1af9ec jesperpedersen [#592] Introduce ValueNone and get_typed functions
* d6c7e84 Numbers0689 [#521] Add directory configuration option
* 6119e2e jesperpedersen pgmoneta -> pgagroal
* 80a27f2 Haoran Zhang [#592] Introduce ValueNone and get_typed functions
* fe17c7d User1995 [#586] Expose key metadata from TLS certificates as Prometheus metrics in pgagroal.
* 43a76da User1995 [#589] Add runtime validation for limit and HBA configuration on conf set
* e791de7 User1995 [#585] Memory leaks in pgagroal-vault SSL/TLS when TLS is enabled.
* eefcc23 jesperpedersen [#583] Add manual for core APIs
* ec5bcf5 Haoran Zhang [#583] Add manual for core APIs
* 191647c User1995 [#581] Add ev_backend support to vault
* ce41daf User1995 [#572] Improve Docker container configurations
* 79fab9c User1995 [#568] Database Alias Support
* 2145009 User1995 [#576] Improve conf set Command with Dotted Notation Support and Automatic Reload
* d741797 User1995 [#570] Documentation Update
* 80fed07 User1995 [#570] Documentation Update
* 5909ce2 User1995 [#574] Fix FreeBSD CI
* 1dc6740 User1995 [#570] Add Two-Dot Notation Support to pgagroal-cli conf get Command
* 9ef24d6 User1995 [#566] Fix Memory Leak on Password Mismatch Retry
* dbdbdda jesperpedersen [#565] Remove non_blocking configuration property
* af9feff Luca Ferrari [#563] Provide a warning message if user passwords do not match (#564)
* 8c84c6c User1995 [#561] Resloved Segmentation Fault When Using Remote Administration Interface
* f51abad jesperpedersen uncrustify
* 4af9a01 User1995 [#558] Fix: Improve network byte order handling and CI fix
* 31cfe06 jesperpedersen [#449] Updates to the function signatures
* 227f0d1 jesperpedersen uncrustify
* d981313 Henrique de Carvalho Add new custom event loop for I/O layer
* dbebc1f Mingzhuo Yin Print line numbers in pgagroal_backtrace
* c636fa6 jesperpedersen [#556] Eisvogel 3.2.0
* d4d06ec User1995 [#554] Test suite: Use gcov and gcovr
* 6fd64c1 Haoran Zhang [#463] Core APIs migration
* 8a82776 Author Name  [#528] tscli impl
* a65d9a2 jesperpedersen [#552] API: Support doxygen 1.13.x
* d0a6141 User1995 [#549] Build: cmake 3.31+
* ab9f2de bassamadnan [#545] Add version coverage for clang and gcc Debug mode
* 892a043 Shikhar Soni [#547] Add HTTPS support for prometheus metrics
* 1bdbb49 jesperpedersen Switch to Eisvogel 3.1.0
* 2a34260 nesangcode [#540] fix environment variables support
* 25045ed Arshdeep54 [#539] Add freeBSD support in CI
* babd4c7 jesperpedersen [#538] Message: Rename API
* d41d916 jesperpedersen Fix memory leak
* 6ab0440 nesangcode [#506] file logging: support environment variables
* 97d8255 jesperpedersen Fix mem leak
* 46c9c9d User1995 [#527] Enhanced CI/CD Pipeline to Generate and Upload Documentation Artifacts.
* d9f58e2 Botir Khaltaev chore(ci): [##536] refactor macOS build workflow to streamline installation and testing process
* 0e559c4 Arshdeep54 [#532] Update branch in docs link
* c27c172 Arshdeep54 [#354] feat: Add docker support to pgagroal
* 8f62837 Arshdeep54 [#530] Make systemd optional
* 5724a62 User1995  [#517] Add OS and Kernel Version as a Prometheus Metric.
* 5a1d544 jchrys [#525]Utilize Startup Packet
* 0b818dd Aryan Arora [#522]Refactor time based config options
* d41c37d Annupamaa Use secure_getenv or getenv based on OS for compatibility
* 721df54 jesperpedersen Add Release build to CI
* 8acfbc3 Luca Ferrari [#516] Fix bsd flag usage when reporting kernel version
* 386a655 Luca Ferrari [#516] Do not write "Kernel Version" for BSD systems
* b458c60 jesperpedersen [#512] Remove \n
* ba18872 Luca Ferrari [#514] Different warning messages in different functions (#515)
* 161c316 User1995 [#512] Added function to retrieve OS name and kernel version across Linux, BSD, and macOS.
* 3ca843b Henrique de Carvalho network.c: cleanup in case connect() fails in pgagroal_connect_unix_socket()
* 64906a1 Henrique de Carvalho main.c: cleanup pid file in case of SIGABRT
* d0cfbe9 Henrique de Carvalho ci.yml: Fix Linux CI
* 0c470b2 jesperpedersen Update email address
* d247909 jesperpedersen Add more author files
* 400e019 Georg Pfuetzenreuter admin: remove stray tab characters
* 3b43af8 Georg Pfuetzenreuter admin: support password through environment
* c5c9aa9 jesperpedersen Always remove uncrustify file
* d83309c Shikhar Soni [#499Leak fix in master_key()
* 9c44ae7 jesperpedersen uncrustify
* da88a3a jesperpedersen NULL after fclose()
* 0ab77ad Henrique de Carvalho [#496] admin.c: fix UAF in list_users()
* 1483d2c Henrique de Carvalho libpgagroal: utils.c: fix UB in pgagroal_read_int32()
* 92ac986 Shikhar Soni [#417] Add -F/--format flag for pgagroal-admin
* 7986816 Robotic-Brain [#493] Fix unchecked calloc bug in network.c (#493)
* b2ce09e jesperpedersen Update clang/Sanitize options
* 1502d97 jesperpedersen Disable ASAN on aarch64
* d95ad89 Luca Ferrari [#491] Fix bug in binding to TCP/IP port
* 3ac30fe Luca Ferrari [#480] Adds DISTRIBUTIONS.md file (#482)
* f818ad1 jesperpedersen Tutorial updates
* 3430870 jesperpedersen Tuturial updates
* b1907e8 jesperpedersen Add .cache/
* 24dbf16 jesperpedersen [#472] Advanced connection management with pgagroal
* ec225db Haoran Zhang [#463] Deque poll/peek last
* bbd721a jesperpedersen Copyright 2024->2025
* da7391a Ashutosh Sharma [#485] Redo CLI conf ls|get|set
* f6f8bb0 Haoran Zhang [#463]New features for values, deque and ART
* ae2a0ce jesperpedersen uncrustify
* f34e4f9 jesperpedersen Add bzip2
* 97dabb8 jesperpedersen Add bzip2
* 8a661f2 jesperpedersen [#484] Redo CLI enable/disable feature
* 1e7fbc3 jesperpedersen [#465] [#466] Management: All commands need to support JSON output
* d03a53d jesperpedersen [#465] [#466] Management: All commands need to support JSON output
* 7298300 Luca Ferrari [#481] Add better error message about `Invalid master key file` (#483)
* 0e4c711 jesperpedersen [#479] Remove buffer_size from configuration
* 4a82850 jesperpedersen [#479] Remove buffer_size from configuration
* fe1693d Haoran Zhang [#463] Migrate JSON, deque, ART & value types(round 2)
* 8801878 Mohanad [#467] Remove deprecated CLI commands
* 3c6a410 jesperpedersen Add pthread
* 091bdeb jesperpedersen [#475] Remove description for RHEL 8.x
* d613484 jesperpedersen Add Committers
* bcd6c68 Luca Ferrari [#473] Fix connection status output
* 40acff6 jesperpedersen [#470] API documentation
* 6d0c3c0 jesperpedersen [#470] API documentation
* ab22e8a jesperpedersen [#470] API documentation
* 33825f3 jesperpedersen [#470] API documentation
* bf4a9a3 jesperpedersen [#470] API documentation
* af9a90c jesperpedersen [#469] Align base64 function signature
* 4d2868e jesperpedersen [#468] Support BASE64 as a value
* 1ad9898 jesperpedersen Next is 2.0.0
* f7c5e69 Haoran Zhang [#463] Migrate JSON, deque, ART & value types
* 8b4b7ed Ashutosh Sharma [#459] Unknown tls value in server configuration fix
* 345fde7 Luca Ferrari [#457] Inform the user of misconfigured `log_level` debug value
* 5fae10c Ashutosh Sharma Enable TLS in vault
* bb3253a Ashutosh Sharma Enable Vault Prometheus
* d2bd1cf jesperpedersen [#453] pgagroal-admin: SegFault with -P
* 79f5525 jesperpedersen [#462] Move init block
* 8e3f010 jesperpedersen [#452] Prometheus: Logging
* 4311729 Ashutosh Sharma Password rotation functionality without '-F'
* a39efd3 jesperpedersen Add AUTHORS note
* 5f4cfc4 Ashutosh Sharma Enabled SSL in vault
* 57d4160 Ashutosh Sharma bug-fix in cli remote connection
* a54c17d jesperpedersen [#441] Install manuals
* 580e508 jesperpedersen [#441] Add YUM links
* 079342b jesperpedersen [#441] Documentation framework
* 07e64b7 EuGig [#392] Add application name and version in management protocol
* 5dd618b jesperpedersen Update information
* c249c2f Ashutosh Sharma [#436] Fixed Compilation Error
* 438db2e Luca Ferrari [#426] Fix a problem in `pgagroal_bind`
* 5dcfb89 Ashutosh Sharma [#407] Vault Implementation
* 0794931 jesperpedersen uncrustify
* 00f52d2 Henrique de Carvalho Fix exit status when parsing error occurs in pgagroal-cli
* cb47fbe Henrique de Carvalho Enable PostgreSQL and run `pgagroal-cli ping` in CI
* 767d104 Titanium [#422] Improve the `restart_server` function
* ac2321c Luca Ferrari [#428] Fix error message in `pgagroal-admin`
* 2126075 jesperpedersen [#425] Force master-key to abort if file exist
* 8a1d641 Luca Ferrari [#420] Fix help screen in `pgagroal-admin`
* e4f8d2b Luca Ferrari [#416] Improve `pgagroal-admin` warning messages
* 411dd98 Luca Ferrari [#412] Fix wrong "management error" in JSON output
* 58a8de8 Luca Ferrari [#413] Fix "connection error" at the end of `status details`
* 11a1f47 Henrique de Carvalho [#403][#410] Improve error messages for pgagroal-cli
* d9f9253 Henrique de Carvalho Fix SegFault in pgagroal-cli
* 3b56518 jesperpedersen Revert part of b189574
* a9c4c13 Christoph Berg Fix sprintf of size_t
* dc8abb7 jesperpedersen Fix flush command
* b189574 jesperpedersen <> -> []
* 03ce33f jesperpedersen Next is 1.7.0
```

### Download

* [Source code](https://github.com/pgagroal/pgagroal/releases/download/2.0.0/pgagroal-2.0.0.tar.gz)
* [Guide](https://github.com/pgagroal/pgagroal/releases/download/2.0.0/pgagroal-en.pdf)
* [RPM](https://yum.postgresql.org) for Fedora 42/43, RHEL 10.x and Rocky 10.x
